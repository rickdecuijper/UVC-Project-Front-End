import{f as y,e as b,a as S,s as z}from"../chunks/CYntuL02.js";import"../chunks/MKJv5q84.js";import{c as ze,o as We}from"../chunks/Or5FtSqh.js";import{l as Fe,f as je,az as qe,i as Ge,af as Re,aA as Ze,aB as Ke,an as Ye,p as Ie,t as B,a as Le,c as d,s as o,r as i,m as G,g as e,u as T,b as h,aC as Oe,aD as Ue,av as x,aE as Je,at as Qe,au as Xe,as as Ce}from"../chunks/dhKN8zhu.js";import{i as re}from"../chunks/B8CupUDX.js";import{e as R,i as J}from"../chunks/9LhD-Kuo.js";import{r as oe,a as Me}from"../chunks/16NvfST4.js";import{s as et}from"../chunks/Cw3zGvpU.js";import{b as ie}from"../chunks/5X1FFu99.js";import{i as Ee}from"../chunks/B4nHfwlT.js";import{p as xe}from"../chunks/pXVk1hc8.js";import{s as Be,a as Pe}from"../chunks/DopX6qhP.js";import{s as Ae}from"../chunks/CdEA5IGF.js";function He(l,f,E=!1){if(l.multiple){if(f==null)return;if(!Re(f))return Ze();for(var w of l.options)w.selected=f.includes(ge(w));return}for(w of l.options){var j=ge(w);if(Ke(j,f)){w.selected=!0;return}}(!E||f!==void 0)&&(l.selectedIndex=-1)}function tt(l){var f=new MutationObserver(()=>{He(l,l.__value)});f.observe(l,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ye(()=>{f.disconnect()})}function Ve(l,f,E=f){var w=new WeakSet,j=!0;Fe(l,"change",g=>{var I=g?"[selected]":":checked",L;if(l.multiple)L=[].map.call(l.querySelectorAll(I),ge);else{var p=l.querySelector(I)??l.querySelector("option:not([disabled])");L=p&&ge(p)}E(L),je!==null&&w.add(je)}),qe(()=>{var g=f();if(l===document.activeElement){var I=Ge??je;if(w.has(I))return}if(He(l,g,j),j&&g===void 0){var L=l.querySelector(":checked");L!==null&&(g=ge(L),E(g))}l.__value=g,j=!1}),tt(l)}function ge(l){return"__value"in l?l.__value:l.value}async function at(){await new Promise(p=>setTimeout(p,1));const l=new Date,f=new Date(l);f.setDate(l.getDate()-7);const E=new Date(l);E.setDate(l.getDate());const w=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00"],j=[{title:"Afval rapen op schoolplein",description:"Losliggend afval verzamelen op het hele schoolplein",subtasks:["Handschoenen uitdelen","Vuilniszakken pakken","Afval scheiden"],status:"Nog niet gestart",people:["Emma","Liam"]},{title:"Speeltoestellen schoonmaken",description:"Reinigen van schommels en klimrekken",subtasks:["Emmers vullen","Schoonmaakmiddel gebruiken"],status:"Nog niet gestart",people:["Sophie"]},{title:"Bladeren vegen",description:"Bladeren verwijderen van het plein",subtasks:["Bezem pakken","Bladeren verzamelen"],status:"In progress",people:["Emma"]},{title:"Zandbak controleren",description:"Zandbak schoon en veilig maken",subtasks:["Afval verwijderen","Zand egaliseren"],status:"Nog niet gestart",people:["Liam"]},{title:"Bankjes afnemen",description:"Alle zitbankjes schoonmaken",subtasks:["Doekjes pakken"],status:"Nog niet gestart",people:["Sophie"]},{title:"Fietsenrek opruimen",description:"Los afval bij het fietsenrek verwijderen",subtasks:["Papier verzamelen","Plastic weggooien"],status:"Nog niet gestart",people:["Emma","Sophie"]},{title:"Afvalcontainers legen",description:"Alle prullenbakken legen",subtasks:["Nieuwe zakken plaatsen"],status:"In progress",people:["Liam"]},{title:"Stoep vegen",description:"Stoep rondom schoolplein schoonvegen",subtasks:[],status:"Nog niet gestart",people:["Emma"]},{title:"Onkruid verwijderen",description:"Onkruid langs hekwerk weghalen",subtasks:["Handschoenen aantrekken"],status:"Nog niet gestart",people:["Sophie"]},{title:"Hekwerk schoonmaken",description:"Hekwerk afspoelen en afnemen",subtasks:[],status:"Nog niet gestart",people:["Liam"]},{title:"Schoolplein inspecteren",description:"Controleren of alles schoon en veilig is",subtasks:["Checklist nalopen"],status:"Nog niet gestart",people:["Emma"]},{title:"Glas verzamelen",description:"Eventueel glas veilig opruimen",subtasks:["Handschoenen gebruiken"],status:"Nog niet gestart",people:["Liam","Sophie"]},{title:"Grote afvalstukken verwijderen",description:"Grote stukken afval afvoeren",subtasks:["Kar gebruiken"],status:"In progress",people:["Emma"]},{title:"Materialen opruimen",description:"Schoonmaakmaterialen terugleggen",subtasks:[],status:"Nog niet gestart",people:["Sophie"]},{title:"Eindcontrole uitvoeren",description:"Laatste controle van het schoolplein",subtasks:["Foto’s maken","Rapportage afronden"],status:"Nog niet gestart",people:["Emma","Liam"]}],g=[];for(let p=0;p<100;p++){const t=j[p%j.length];g.push({title:`${t.title} #${p+1}`,description:t.description,subtasks:t.subtasks,status:t.status,people:t.people})}const I=[];for(let p=0;p<7;p++){const t=new Date(f);t.setDate(t.getDate()+p),I.push(new Date(t))}for(let p=0;p<7;p++){const t=new Date(E);t.setDate(t.getDate()+p),I.push(new Date(t))}return{tasks:g.map((p,t)=>{const _=I[t%I.length],A=w[t%w.length];return{id:crypto.randomUUID(),...p,date:_.toISOString().split("T")[0],time:A}})}}const Ot=Object.freeze(Object.defineProperty({__proto__:null,load:at},Symbol.toStringTag,{value:"Module"}));var nt=y('<div class="flex flex-col md:flex-row justify-between items-center gap-4 md:gap-0 mb-6 p-6 bg-gradient-to-r from-amber-500 via-green-500 to-blue-500 rounded-2xl shadow-lg text-white"><div class="flex items-center gap-2"><button class="bg-white/20 hover:bg-white/30 px-3 py-2 rounded-lg transition-colors duration-200">← Vorige week</button></div> <div class="text-2xl md:text-3xl font-extrabold text-center drop-shadow-md"> </div> <div class="flex items-center gap-2"><button class="bg-white/20 hover:bg-white/30 px-3 py-2 rounded-lg transition-colors duration-200">Volgende week →</button></div></div>');function st(l,f){Ie(f,!1);let E=xe(f,"monthName",8);const w=ze();Ee();var j=nt(),g=d(j),I=d(g);i(g);var L=o(g,2),p=d(L,!0);i(L);var t=o(L,2),_=d(t);i(t),i(j),B(()=>z(p,E())),b("click",I,()=>w("prevWeek")),b("click",_,()=>w("nextWeek")),S(l,j),Le()}var rt=y('<label class="flex items-center gap-1"><input type="checkbox"/> </label>'),ot=y('<div class="flex gap-2 items-center"><input placeholder="Subtaak..." class="flex-1 p-2 border rounded-lg"/> <button class="remove-btn svelte-kwsj80">x</button></div>'),it=y('<button class="subtask-btn svelte-kwsj80">+ Subtaak</button>'),lt=y('<button class="px-4 py-1 border rounded-lg">Annuleren</button>'),dt=y('<div class="flex flex-col gap-2 border-t pt-2"><input placeholder="Taaknaam" class="p-2 border rounded-lg"/> <textarea placeholder="Beschrijving" class="p-2 border rounded-lg" rows="2"></textarea> <select class="p-2 border rounded-lg"><option>Nog niet gestart</option><option>In progress</option><option>Voltooid</option></select> <label>Personen:</label> <div class="flex flex-wrap gap-2"></div> <label>Subtaken:</label> <!> <!> <div class="flex gap-2"><button class="bg-purple-600 text-white px-4 py-1 rounded-lg"> </button> <!></div></div>'),ut=y('<div class="task flex justify-between items-start gap-2 svelte-kwsj80" draggable="true"><div><div class="font-semibold"> </div> <div class="text-xs text-gray-600"> </div></div> <div class="flex gap-1"><button class="text-xs px-2 py-1 bg-blue-500 text-white rounded" draggable="false">Edit</button> <button class="text-xs px-2 py-1 bg-red-500 text-white rounded" draggable="false">Delete</button></div></div>'),ct=y('<div class="pool svelte-kwsj80"><div class="flex justify-between items-center"><h3 class="font-bold text-lg">Takenpool</h3> <button> </button></div> <!> <!></div>');function pt(l,f){Ie(f,!1);const E=()=>Pe(g(),"$tasks",w),[w,j]=Be();let g=xe(f,"tasks",8),I=xe(f,"peopleOptions",24,()=>["Emma","Liam","Sophie"]);const L=ze(),p={id:null,title:"",description:"",subtasks:[""],status:"Nog niet gestart",people:[],date:null,time:null};let t=G(structuredClone(p)),_=G(!1),A=G(null);function fe(){e(t).title.trim()&&(g().update(u=>[...u,{...structuredClone(e(t)),id:crypto.randomUUID()}]),de())}function be(){e(t).title.trim()&&(g().update(u=>u.map(k=>k.id===e(A)?structuredClone(e(t)):k)),de())}function le(u){h(t,structuredClone(u)),h(A,u.id),h(_,!0)}function we(u){g().update(k=>k.filter(C=>C.id!==u))}function de(){h(t,structuredClone(p)),h(A,null),h(_,!1)}function Q(){e(t).subtasks.length<3&&x(t,e(t).subtasks=[...e(t).subtasks,""])}function P(u){x(t,e(t).subtasks=e(t).subtasks.filter((k,C)=>C!==u))}function s(u){window.__dragTask=structuredClone(u),window.__dragSource="pool"}function me(u){u.preventDefault()}function De(){const u=window.__dragTask,k=window.__dragSource;!u||k!=="calendar"||(L("unscheduleTask",u),window.__dragTask=null,window.__dragSource=null)}Ee();var X=ct(),ue=d(X),ce=o(d(ue),2),Se=d(ce,!0);i(ce),i(ue);var ke=o(ue,2);{var ye=u=>{var k=dt(),C=d(k);oe(C);var H=o(C,2);Oe(H);var F=o(H,2);B(()=>{e(t),Ue(()=>{})});var ee=o(F,4);R(ee,5,I,J,(c,m)=>{var N=rt(),D=d(N);oe(D);var U=o(D);i(N),B(V=>{Me(D,V),z(U,` ${e(m)??""}`)},[()=>(e(t),e(m),T(()=>e(t).people.includes(e(m))))]),b("change",D,V=>{V.target.checked?x(t,e(t).people=[...e(t).people,e(m)]):x(t,e(t).people=e(t).people.filter(W=>W!==e(m)))}),S(c,N)}),i(ee);var Z=o(ee,4);R(Z,1,()=>(e(t),T(()=>e(t).subtasks)),J,(c,m,N)=>{var D=ot(),U=d(D);oe(U);var V=o(U,2);i(D),ie(U,()=>e(t).subtasks[N],W=>x(t,e(t).subtasks[N]=W)),b("click",V,()=>P(N)),S(c,D)});var ae=o(Z,2);{var ne=c=>{var m=it();b("click",m,Q),S(c,m)};re(ae,c=>{e(t),T(()=>e(t).subtasks.length<3)&&c(ne)})}var a=o(ae,2),n=d(a),r=d(n,!0);i(n);var v=o(n,2);{var O=c=>{var m=lt();b("click",m,de),S(c,m)};re(v,c=>{e(A)&&c(O)})}i(a),i(k),B(()=>z(r,e(A)?"Opslaan":"Toevoegen")),ie(C,()=>e(t).title,c=>x(t,e(t).title=c)),ie(H,()=>e(t).description,c=>x(t,e(t).description=c)),Ve(F,()=>e(t).status,c=>x(t,e(t).status=c)),b("click",n,function(...c){(e(A)?be:fe)?.apply(this,c)}),S(u,k)};re(ke,u=>{e(_)&&u(ye)})}var Ne=o(ke,2);R(Ne,1,()=>(E(),T(()=>E().filter(u=>!u.date||!u.time))),u=>u.id,(u,k)=>{var C=ut(),H=d(C),F=d(H),ee=d(F,!0);i(F);var Z=o(F,2),ae=d(Z,!0);i(Z),i(H);var ne=o(H,2),a=d(ne),n=o(a,2);i(ne),i(C),B(()=>{z(ee,(e(k),T(()=>e(k).title))),z(ae,(e(k),T(()=>e(k).status)))}),b("click",a,Ae(()=>le(e(k)))),b("click",n,Ae(()=>we(e(k).id))),b("dragstart",C,()=>s(e(k))),S(u,C)}),i(X),B(()=>z(Se,e(_)?"Sluiten":"+ Nieuwe taak")),b("click",ce,()=>h(_,!e(_))),b("dragover",X,me),b("drop",X,De),S(l,X),Le(),j()}var vt=y('<div><div class="text-xs"> </div> <div class="text-lg"> </div></div>'),gt=y('<div class="task-card svelte-12c4iev" draggable="true"><div class="font-semibold truncate"> </div> <div class="text-gray-600 text-xs"> </div></div>'),ft=y('<div class="calendar-cell svelte-12c4iev"><!> <div class="add-task-button svelte-12c4iev">+ Taak</div></div>'),bt=y('<div class="time-slot svelte-12c4iev"> </div> <!>',1),mt=y('<label class="flex items-center gap-1 cursor-pointer select-none"><input type="checkbox"/> </label>'),kt=y('<div class="flex gap-2 items-center"><input placeholder="Subtaak..." class="flex-1 p-2 border rounded-lg"/> <button class="bg-red-500 text-white px-3 py-1 rounded-lg">x</button></div>'),_t=y('<button class="bg-blue-500 text-white px-3 py-1 rounded-lg">+ Subtaak</button>'),ht=y('<button class="bg-red-600 text-white px-4 py-2 rounded-lg">Verwijderen</button>'),xt=y('<div class="fixed inset-0 bg-black/40 flex items-center justify-center z-50"><div class="bg-white rounded-2xl w-96 p-6 flex flex-col gap-4"><h2 class="text-2xl font-bold border-b pb-2"> </h2> <input placeholder="Taaknaam" class="w-full p-2 border rounded-lg"/> <textarea placeholder="Beschrijving" class="w-full p-2 border rounded-lg" rows="3"></textarea> <label>Status:</label> <select class="w-full p-2 border rounded-lg"><option>Nog niet gestart</option><option>In progress</option><option>Voltooid</option></select> <label>Personen:</label> <div class="flex flex-wrap gap-2"></div> <div class="flex flex-col gap-2"><!> <!></div> <div class="flex justify-end gap-2 mt-4"><button class="bg-gray-400 text-white px-4 py-2 rounded-lg">Annuleren</button> <!> <button class="bg-blue-500 text-white px-4 py-2 rounded-lg">Opslaan</button></div></div></div>'),wt=y('<!> <div class="grid grid-cols-[80px_repeat(7,1fr)] gap-2"><div></div> <!> <!></div> <!> <!>',1);function Ut(l,f){Ie(f,!1);const E=()=>Pe(g,"$tasks",w),[w,j]=Be();xe(f,"data",8);const g=Je([{id:crypto.randomUUID(),title:"Afval rapen op schoolplein",description:"Losliggend afval verzamelen op het hele schoolplein",subtasks:["Handschoenen uitdelen","Vuilniszakken pakken","Afval scheiden"],status:"Nog niet gestart",people:["Emma"],date:null,time:null},{id:crypto.randomUUID(),title:"Speeltoestellen schoonmaken",description:"Reinigen van schommels en klimrekken",subtasks:["Emmers vullen","Schoonmaakmiddel gebruiken"],status:"Nog niet gestart",people:["Sophie"],date:null,time:null}]),I=["Emma","Liam","Sophie"],L={id:null,title:"",description:"",subtasks:[""],status:"Nog niet gestart",people:[],date:null,time:null},p=[];for(let a=8;a<18;a++)p.push(`${a.toString().padStart(2,"0")}:00`),p.push(`${a.toString().padStart(2,"0")}:30`);p.push("18:00");const t={ma:"bg-gradient-to-br from-pink-500 to-orange-500",di:"bg-gradient-to-br from-orange-500 to-lime-400",wo:"bg-gradient-to-br from-lime-400 to-green-500",do:"bg-gradient-to-br from-green-500 to-blue-400",vr:"bg-gradient-to-br from-blue-400 to-indigo-500",za:"bg-gradient-to-br from-indigo-500 to-purple-500",zo:"bg-gradient-to-br from-purple-500 to-pink-500"};let _=G(new Date),A=G([]),fe=G();function be(a){const n=a.getDay(),r=(n===0?-6:1)-n,v=new Date(a);return v.setDate(a.getDate()+r),v}function le(){const a=be(e(_));h(A,[]);for(let n=0;n<7;n++){const r=new Date(a);r.setDate(a.getDate()+n),e(A).push({date:r,name:r.toLocaleDateString("nl-NL",{weekday:"short"}),dayNumber:r.getDate()})}}function we(){h(_,new Date(e(_).setDate(e(_).getDate()-7))),le()}function de(){h(_,new Date(e(_).setDate(e(_).getDate()+7))),le()}We(le);let Q=G(!1),P=G({taskId:null,editing:!1}),s=G(structuredClone(L));function me(a=null,n=null,r=null,v=null){a?(h(P,{taskId:n,editing:!0}),h(s,structuredClone(a))):(h(P,{taskId:null,editing:!1}),h(s,structuredClone(L)),x(s,e(s).date=r),x(s,e(s).time=v)),h(Q,!0)}function De(){e(s).subtasks.length<3&&x(s,e(s).subtasks=[...e(s).subtasks,""])}function X(a){x(s,e(s).subtasks=e(s).subtasks.filter((n,r)=>r!==a))}function ue(){g.update(a=>{const n=structuredClone(e(s));if(n.id||(n.id=crypto.randomUUID()),e(P).editing){const r=a.findIndex(v=>v.id===e(P).taskId);r!==-1&&(a[r]=n)}else a.push(n);return a}),h(Q,!1)}function ce(){g.update(a=>{const n=a.findIndex(r=>r.id===e(P).taskId);return n!==-1&&a.splice(n,1),a}),h(Q,!1)}function Se(a,n){window.__dragTask=structuredClone(a),window.__dragSource=n}function ke(a,n){const r=window.__dragTask,v=window.__dragSource;r&&(g.update(O=>{const c={...r,subtasks:[...r.subtasks],people:[...r.people],date:a,time:n,id:v==="pool"?crypto.randomUUID():r.id};if(v==="calendar"){const m=O.findIndex(N=>N.id===r.id);m!==-1&&O.splice(m,1)}return O.push(c),O}),window.__dragTask=null,window.__dragSource=null)}function ye(a){g.update(n=>{const r=n.findIndex(v=>v.id===a.id);return r!==-1&&(n[r]={...n[r],date:null,time:null}),n})}function Ne(a){a.preventDefault()}function u(a){if(!a)return"";const n=a instanceof Date?a:new Date(a);return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`}Qe(()=>e(_),()=>{const a=be(e(_)),n=new Date(a);n.setDate(a.getDate()+6);const r=a.toLocaleDateString("nl-NL",{month:"long",year:"numeric"}),v=n.toLocaleDateString("nl-NL",{month:"long",year:"numeric"});h(fe,r===v?r:`${r} – ${v}`)}),Xe(),Ee();var k=wt(),C=Ce(k);st(C,{get monthName(){return e(fe)},$$events:{prevWeek:we,nextWeek:de}});var H=o(C,2),F=o(d(H),2);R(F,1,()=>e(A),J,(a,n)=>{var r=vt(),v=d(r),O=d(v,!0);i(v);var c=o(v,2),m=d(c,!0);i(c),i(r),B(()=>{et(r,1,(e(n),T(()=>`calendar-header ${t[e(n).name]??"bg-gray-400"}`)),"svelte-12c4iev"),z(O,(e(n),T(()=>e(n).name))),z(m,(e(n),T(()=>e(n).dayNumber)))}),S(a,r)});var ee=o(F,2);R(ee,1,()=>p,J,(a,n)=>{var r=bt(),v=Ce(r),O=d(v,!0);i(v);var c=o(v,2);R(c,1,()=>e(A),J,(m,N)=>{var D=ft(),U=d(D);R(U,1,()=>(E(),e(N),e(n),T(()=>E().filter(W=>u(W.date)===u(e(N).date)&&W.time===e(n)))),J,(W,q)=>{var K=gt(),se=d(K),_e=d(se,!0);i(se);var he=o(se,2),$e=d(he,!0);i(he),i(K),B(()=>{z(_e,(e(q),T(()=>e(q).title))),z($e,(e(q),T(()=>e(q).status)))}),b("dragstart",K,()=>Se(e(q),"calendar")),b("dblclick",K,()=>me(e(q),e(q).id)),S(W,K)});var V=o(U,2);i(D),b("click",V,()=>me(null,null,e(N).date,e(n))),b("dragover",D,Ne),b("drop",D,()=>ke(e(N).date,e(n))),S(m,D)}),B(()=>z(O,e(n))),S(a,r)}),i(H);var Z=o(H,2);{var ae=a=>{var n=xt(),r=d(n),v=d(r),O=d(v,!0);i(v);var c=o(v,2);oe(c);var m=o(c,2);Oe(m);var N=o(m,4);B(()=>{e(s),Ue(()=>{})});var D=o(N,4);R(D,5,()=>I,J,($,M)=>{var te=mt(),Y=d(te);oe(Y);var pe=o(Y);i(te),B(ve=>{Me(Y,ve),z(pe,` ${e(M)??""}`)},[()=>(e(s),e(M),T(()=>Array.isArray(e(s).people)&&e(s).people.includes(e(M))))]),b("change",Y,ve=>{Array.isArray(e(s).people)||x(s,e(s).people=[]),ve.target.checked?x(s,e(s).people=[...e(s).people,e(M)]):x(s,e(s).people=e(s).people.filter(Te=>Te!==e(M)))}),S($,te)}),i(D);var U=o(D,2),V=d(U);R(V,1,()=>(e(s),T(()=>e(s).subtasks)),J,($,M,te)=>{var Y=kt(),pe=d(Y);oe(pe);var ve=o(pe,2);i(Y),ie(pe,()=>e(s).subtasks[te],Te=>x(s,e(s).subtasks[te]=Te)),b("click",ve,()=>X(te)),S($,Y)});var W=o(V,2);{var q=$=>{var M=_t();b("click",M,De),S($,M)};re(W,$=>{e(s),T(()=>e(s).subtasks.length<3)&&$(q)})}i(U);var K=o(U,2),se=d(K),_e=o(se,2);{var he=$=>{var M=ht();b("click",M,ce),S($,M)};re(_e,$=>{e(P),T(()=>e(P).editing)&&$(he)})}var $e=o(_e,2);i(K),i(r),i(n),B(()=>z(O,(e(P),T(()=>e(P).editing?"Bewerk Taak":"Nieuwe Taak")))),ie(c,()=>e(s).title,$=>x(s,e(s).title=$)),ie(m,()=>e(s).description,$=>x(s,e(s).description=$)),Ve(N,()=>e(s).status,$=>x(s,e(s).status=$)),b("click",se,()=>h(Q,!1)),b("click",$e,ue),S(a,n)};re(Z,a=>{e(Q)&&a(ae)})}var ne=o(Z,2);pt(ne,{get tasks(){return g},get peopleOptions(){return I},$$events:{unscheduleTask:a=>ye(a.detail)}}),S(l,k),Le(),j()}export{Ut as component,Ot as universal};

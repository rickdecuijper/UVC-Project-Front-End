import{f as N,a as w,s as L,e as F,t as Q}from"../chunks/CYntuL02.js";import"../chunks/MKJv5q84.js";import{c as le,o as ie}from"../chunks/Or5FtSqh.js";import{af as re,p as W,at as P,au as ee,t as C,a as X,v as x,b as v,m as k,s as p,c as o,r as l,g as t,u as y,X as ne}from"../chunks/dhKN8zhu.js";import{i as R}from"../chunks/B8CupUDX.js";import{e as de}from"../chunks/9LhD-Kuo.js";import{s as $}from"../chunks/16NvfST4.js";import{i as te}from"../chunks/B4nHfwlT.js";import{s as ae}from"../chunks/CKPkcwXw.js";import{p as H}from"../chunks/pXVk1hc8.js";import{s as q}from"../chunks/Cw3zGvpU.js";import{s as ce}from"../chunks/CdEA5IGF.js";import{b as ve}from"../chunks/CdANDRKd.js";function pe(j,r){var e=j.$$events?.[r.type],n=re(e)?e.slice():e==null?[]:[e];for(var i of n)i.call(this,r)}var ue=N('<header class="flex justify-between items-center p-4 bg-white shadow-md border-b border-gray-200 sticky top-0 z-50"><div class="flex items-center space-x-4"><span class="text-3xl text-orange-500">üè¥‚Äç‚ò†Ô∏è</span> <div class="text-left"><span class="text-lg font-bold text-gray-800">Schatzoektocht</span> <p class="text-sm text-gray-500 hidden sm:block">Volg het pad en voltooi alle taken om de schat te vinden!</p></div></div> <div class="text-center min-w-[250px] mx-4"><div class="text-xs font-semibold mb-1 text-gray-700"> </div> <div class="relative w-full h-2 bg-gray-200 rounded-full overflow-hidden"><div class="h-full bg-orange-500 transition-all duration-500 ease-in-out"></div></div></div></header>');function ge(j,r){W(r,!1);const e=k();let n=H(r,"missiesVoltooid",8,0),i=H(r,"totaalMissies",8,5);P(()=>(x(n()),x(i())),()=>{v(e,n()/i()*100)}),ee();var _=ue(),I=p(o(_),2),d=o(I),V=o(d);l(d);var f=p(d,2),S=o(f);l(f),l(I),l(_),C(()=>{L(V,`${n()??""}/${i()??""} taken`),ae(S,`width: ${t(e)??""}%;`)}),w(j,_),X()}var fe=N('<button class="voltooi-knop w-full py-2 bg-green-500 text-white font-semibold rounded hover:bg-green-600 transition">Markeer als voltooid</button>'),me=N('<p class="text-sm text-green-700 font-medium">Deze taak is al voltooid!</p>'),be=N(`<div class="missie-popup absolute bottom-full left-1/2 transform -translate-x-1/2 
                    bg-yellow-100 border-2 border-yellow-400 p-4 w-64 rounded-lg shadow-xl z-30 mb-2"><h4 class="font-bold text-gray-800 mb-1"> </h4> <p class="text-sm text-gray-600 border-b pb-2 mb-2"> </p> <!></div>`),he=N('<div tabindex="0" role="button"><div> </div> <span><!></span> <!></div>');function xe(j,r){W(r,!1);let e=H(r,"missie",8),n=H(r,"isGeopend",8);const i=le();function _(){i("voltooi",e().id)}function I(s){(s.key==="Enter"||s.keyCode===32)&&(s.preventDefault(),i("click"))}te();var d=he();let V;var f=o(d);let S;var c=o(f,!0);l(f);var u=p(f,2);let A;var U=o(u);{var J=s=>{var m=Q("‚úîÔ∏è Gedaan");w(s,m)},T=s=>{var m=Q("‚ö†Ô∏è Nog niet gedaan");w(s,m)};R(U,s=>{x(e()),y(()=>e().status==="Voltooid")?s(J):s(T,!1)})}l(u);var O=p(u,2);{var Y=s=>{var m=be(),z=o(m),E=o(z,!0);l(z);var G=p(z,2),Z=o(G,!0);l(G);var B=p(G,2);{var K=h=>{var M=fe();F("click",M,ce(_)),w(h,M)},D=h=>{var M=me();w(h,M)};R(B,h=>{x(e()),y(()=>e().status!=="Voltooid")?h(K):h(D,!1)})}l(m),C(()=>{L(E,(x(e()),y(()=>e().naam))),L(Z,(x(e()),y(()=>e().beschrijving)))}),w(s,m)};R(O,s=>{n()&&s(Y)})}l(d),C(()=>{V=q(d,1,"missie-punt absolute cursor-pointer w-10 h-10 z-20",null,V,{voltooid:e().status==="Voltooid"}),ae(d,`top: ${x(e()),y(()=>e().locatie.top)??""}; left: ${x(e()),y(()=>e().locatie.left)??""};`),S=q(f,1,`pin-nummer absolute top-0 left-0 w-8 h-8 flex items-center justify-center 
               rounded-full text-white font-bold text-lg border-4 border-white transform -translate-x-1/2 -translate-y-1/2 shadow-lg`,null,S,{"bg-red-500":e().status!=="Voltooid","bg-green-500":e().status==="Voltooid"}),L(c,(x(e()),y(()=>e().id))),A=q(u,1,`status-badge absolute right-[-5px] top-[-10px] px-2 py-0.5 
               rounded text-xs font-semibold whitespace-nowrap shadow-md z-30`,null,A,{"bg-green-600":e().status==="Voltooid","bg-orange-500":e().status!=="Voltooid","text-white":!0})}),F("click",d,function(s){pe.call(this,r,s)}),F("keydown",d,I),w(j,d),X()}var we=N(`<div class="absolute z-30 pointer-events-none" style="
            top: 91%;
            left: 92%;
            transform: translate(-50%, -50%);
            width: clamp(64px, 8vw, 120px);
            height: clamp(64px, 8vw, 120px);
        "><img src="src\\lib\\assets\\schatkist.png" alt="Schatkist" class="w-full h-full object-contain drop-shadow-xl"/></div>`),_e=N('<div class="schatkaart-container min-h-screen bg-sky-200 pb-10"><!> <div class="flex justify-center gap-4 mt-2 mb-4"><label class="cursor-pointer bg-purple-600 hover:bg-purple-700 text-white font-bold px-6 py-2 rounded-full shadow-lg">üì∑ Achtergrond wijzigen <input type="file" accept="image/*" class="hidden"/></label> <button class="bg-red-500 hover:bg-red-600 text-white font-bold px-6 py-2 rounded-full shadow-lg">üîÑ Reset missies</button></div> <div class="kaart-vlak relative w-full max-w-[1200px] h-[600px] mx-auto mt-2 rounded-[30px] shadow-[0_20px_50px_rgba(0,0,0,0.5)] overflow-hidden border-8 border-yellow-400 bg-gray-50"><img class="absolute inset-0 w-full h-full object-cover z-0"/> <svg class="absolute inset-0 w-full h-full z-10" viewBox="0 0 100 100" preserveAspectRatio="none"><polyline fill="none" stroke-width="3" stroke-dasharray="2,3"></polyline></svg> <!> <!></div></div>');function Pe(j,r){W(r,!1);const e=k(),n=k(),i=k(),_=k(),I=[{id:1,naam:"Zandbak harken",status:"Nog niet gedaan",locatie:{top:"30%",left:"20%"},beschrijving:"Zandbak harken en schoonmaken."},{id:2,naam:"Puzzelbakken",status:"Nog niet gedaan",locatie:{top:"45%",left:"40%"},beschrijving:"Puzzels verzamelen en schoonmaken."},{id:3,naam:"Speeltoestellen checken",status:"Nog niet gedaan",locatie:{top:"35%",left:"60%"},beschrijving:"Veiligheidscontrole toestellen."},{id:4,naam:"Hekwerk repareren",status:"Nog niet gedaan",locatie:{top:"55%",left:"75%"},beschrijving:"Hekwerk herstellen."},{id:5,naam:"Gras maaien",status:"Nog niet gedaan",locatie:{top:"70%",left:"55%"},beschrijving:"Gras maaien rondom speelveld."},{id:6,naam:"Schatkist verbergen",status:"Nog niet gedaan",locatie:{top:"80%",left:"85%"},beschrijving:"Schat verstoppen."}],d=[{x:20,y:30},{x:40,y:45},{x:60,y:35},{x:75,y:55},{x:55,y:70},{x:85,y:80},{x:90,y:95}],V="schatkaartMissies",f="schatkaart-bg-url",S=`${ve}/img/jouw-speeltuin-kaart.jpg`;let c=k(I),u=k(null),A=k(S);ie(()=>{try{const a=localStorage.getItem(V);a&&v(c,JSON.parse(a))}catch{}v(A,localStorage.getItem(f)||S)});function U(){typeof window<"u"&&localStorage.setItem(V,JSON.stringify(t(c)))}function J(a){v(u,t(u)===a?null:a)}function T(a){const g=a.detail;v(c,t(c).map(b=>b.id===g?{...b,status:"Voltooid"}:b)),U(),v(u,null)}function O(a){const g=a.target.files[0];if(!g)return;const b=new FileReader;b.onload=()=>{v(A,b.result),localStorage.setItem(f,b.result)},b.readAsDataURL(g)}function Y(){confirm("Weet je zeker dat je alle missies opnieuw wilt starten?")&&(v(c,t(c).map(a=>({...a,status:"Nog niet gedaan"}))),v(u,null),U())}P(()=>{},()=>{v(e,d.map(a=>`${a.x},${a.y}`).join(" "))}),P(()=>t(c),()=>{v(n,t(c).length)}),P(()=>t(c),()=>{v(i,t(c).filter(a=>a.status==="Voltooid").length)}),P(()=>(t(i),t(n)),()=>{v(_,t(i)===t(n)?"#FACC15":"#A855F7")}),ee(),te();var s=_e(),m=o(s);ge(m,{get missiesVoltooid(){return t(i)},get totaalMissies(){return t(n)}});var z=p(m,2),E=o(z),G=p(o(E));l(E);var Z=p(E,2);l(z);var B=p(z,2),K=o(B),D=p(K,2),h=o(D);l(D);var M=p(D,2);de(M,1,()=>t(c),a=>a.id,(a,g)=>{{let b=ne(()=>(t(u),t(g),y(()=>t(u)===t(g).id)));xe(a,{class:"absolute z-20",get missie(){return t(g)},get isGeopend(){return t(b)},$$events:{click:()=>J(t(g).id),voltooi:T}})}});var se=p(M,2);{var oe=a=>{var g=we();w(a,g)};R(se,a=>{t(i)===t(n)&&a(oe)})}l(B),l(s),C(()=>{$(K,"src",t(A)),$(h,"points",t(e)),$(h,"stroke",t(_))}),F("change",G,O),F("click",Z,Y),w(j,s),X()}export{Pe as component};
